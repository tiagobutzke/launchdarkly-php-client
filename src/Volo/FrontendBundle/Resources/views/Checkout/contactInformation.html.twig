{% extends 'VoloFrontendBundle:Checkout:base.html.twig' %}

{% block delivery_information %}
    <div class="checkout__step checkout__step--first checkout__delivery-information">
        <h3 class="checkout__step__title">1. {% trans %}title.delivery_details{% endtrans %}
            <span class="checkout__title-link">
                <i class="checkout__title-link__icon icon-pencil"></i>
                <a href="{{ path('checkout_delivery_information', {vendorCode: vendor.code}) }}">{% trans %}link.edit_delivery_information{% endtrans %}</a>
            </span>
        </h3>
        <div class="checkout__step__items">
            {% include('VoloFrontendBundle:Checkout/Partial:delivery_information_edit.html.twig') %}
        </div>
    </div>
{% endblock %}

{% block contact_information %}
    <div class="checkout__step checkout__step--active checkout__contact-information">
        <h3 class="checkout__step__title">2. {% trans %}title.contact_info{% endtrans %}</h3>
        <div class="checkout__step__items">
            <div class="checkout__step__item">
                <div class="checkout__step__item-content">
                    {% for message in errorMessages %}
                        {% if 'ApiCustomerAlreadyExistsException' in message %}
                            <div class="form__error-message form__error-message--existing-user" id="checkout-error-existing-user"
                                 data-error-message-key="checkout.user_already_exists"
                                 data-username="{{ username }}">
                                {% trans %}checkout.user_already_exists{% endtrans %}
                            </div>
                        {% endif %}
                    {% endfor %}
                    {%
                        include('VoloFrontendBundle:Checkout/Partial:contact_information_form.html.twig')
                        with {
                            action: path('checkout_contact_information', {vendorCode: vendor.code}),
                            phoneNumberError: phoneNumberError|default('')
                        }
                    %}
                </div>
            </div>
        </div>
    </div>
{% endblock %}

{% block payment %}
    <div class="checkout__step checkout__step--reduced checkout__payment">
        <h3 class="checkout__step__title">3. {% trans %}title.payment{% endtrans %}</h3>
    </div>
{% endblock %}
